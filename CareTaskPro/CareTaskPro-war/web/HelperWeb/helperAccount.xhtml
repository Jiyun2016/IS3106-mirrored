<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../template/helperTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

  
    <ui:define name="center">
       <h:form id="formViewAccount">
           <p:panel  header="Account information">
               <p:panelGrid>
                   <p:row  style="border: none">
                        <p:column  style="border: none">
                            <h:outputLabel value="Phone:" />
                        </p:column>
                        <p:column  style="border: none">
                            <h:outputText value="#{helperAccountManagedBean.helperToView.phone}" />
                        </p:column>
                    </p:row>
                   
                   <p:row  style="border: none">
                        <p:column  style="border: none">
                            <h:outputLabel value="Password:" />
                        </p:column>
                        
                        <p:column  style="border: none">
                            <p:commandButton update="formUpdatePassword" oncomplete="PF('dialogUpdatePassword').show()" value="Update" icon="ui-icon-pencil" title="Update">

                            </p:commandButton>
                        </p:column>
                    </p:row>
               </p:panelGrid>
               
           </p:panel>
            
        </h:form>
        
        <h:form id="formUpdatePassword">

            <p:dialog id="dialogUpdatePassword" widgetVar="dialogUpdatePassword" header="Update Password" closable="true">

                <p:messages id="messagesUpdatePassword" redisplay="false" />

                <p:panelGrid>

                    <p:row>
                        <p:column>
                            <p:outputLabel for="password1" value="New Password: " />
                        </p:column>
                        <p:column>
                            <p:password id="password1" value="#{helperAccountManagedBean.helperToView.password}" match="password2" label="New Password" required="true" />
                        </p:column>
                        <p:column>
                            <p:message for="password1" />
                        </p:column>
                    </p:row>
                    
                    <p:row>
                        <p:column>
                            <p:outputLabel for="password2" value="Confirm Password: " />
                        </p:column>
                        <p:column>
                            <p:password id="password2" value="#{helperAccountManagedBean.helperToView.password}" label="Confirm Password" required="true" />
                        </p:column>
                        <p:column>
                            <p:message for="password2" />
                        </p:column>
                    </p:row>

                    <p:row>
                        <p:column colspan="3">
                            <p:commandButton id="updatePassword" value="Save" icon="ui-icon-disk" update="@form formViewAccount" actionListener="#{helperAccountManagedBean.saveHelper(event)}" oncomplete="PF('dialogUpdatePassword').show();" />
                        </p:column>
                    </p:row>
                </p:panelGrid>

            </p:dialog>

        </h:form>
    </ui:define>

</ui:composition>
